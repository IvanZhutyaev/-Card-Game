# Seka Card Game (MVP)

**Seka** ‚Äî —ç—Ç–æ –æ–Ω–ª–∞–π–Ω-–∏–≥—Ä–∞ –≤ –∫–∞—Ä—Ç—ã (–≤–∞—Ä–∏–∞–Ω—Ç –ø–æ–∫–µ—Ä–∞), —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –Ω–∞ FastAPI (Python, backend) –∏ React (frontend). –ü—Ä–æ–µ–∫—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –º–Ω–æ–≥–æ–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π —Ä–µ–∂–∏–º, —Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –≤ PostgreSQL –∏ Redis, –∞ —Ç–∞–∫–∂–µ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π UI —Å –∞–Ω–∏–º–∞—Ü–∏—è–º–∏.

üåç **Multiplayer** | ‚ö° **WebSockets** | ü§ñ **Telegram Bot** | üê≥ **Dockerized**  

---

## üöÄ **–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏**  

| **–ß–∞—Å—Ç—å**       | **–°—Ç–µ–∫**                                                                 |
|----------------|--------------------------------------------------------------------------|
| **Frontend**   | React + TypeScript, Telegram WebApp SDK, Zustand, Canvas/PixiJS          |
| **Backend**    | Python (FastAPI/Flask), PostgreSQL, Redis (–º–∞—Ç—á–º–µ–π–∫–∏–Ω–≥), WebSockets      |
| **–ë–æ—Ç**        | Python (aiogram)                                                         |
| **–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞** | Docker, Nginx, GitHub Actions (CI/CD)                                |

---

## üì¶ **–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫**  

### **1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è**  
```bash
git clone https://github.com/IvanZhutyaev/Seka-Card_Game.git
cd Seka-Card_Game
```

### **2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è**  
–°–æ–∑–¥–∞–π—Ç–µ `.env` —Ñ–∞–π–ª—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞ (–ø—Ä–∏–º–µ—Ä—ã –≤ `.env.example`):  
- `pages/gameplay/.env` ‚Äî –∫–ª—é—á–∏ Telegram Mini App  
- `.env` ‚Äî –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ë–î, —Å–µ–∫—Ä–µ—Ç—ã (–≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞)  
- `bot/.env` ‚Äî —Ç–æ–∫–µ–Ω –±–æ—Ç–∞  

### **3. –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker**  
```bash
docker-compose up --build
```
–°–µ—Ä–≤–∏—Å—ã –±—É–¥—É—Ç –¥–æ—Å—Ç—É–ø–Ω—ã:  
- **Frontend**: `http://localhost:3000`  
- **Backend API**: `http://localhost:8000`  
- **Bot Webhook**: `http://localhost:5000`  

---

## üõ† **–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞**  

### **Frontend (React + TypeScript)**  
```bash
cd pages/gameplay
npm install
npm run dev
```

### **Backend (Python)**  
```bash
# –ó–∞–ø—É—Å–∫ –∏–∑ –∫–æ—Ä–Ω—è –ø—Ä–æ–µ–∫—Ç–∞
pip install -r requirements.txt
python server.py
```

### **–ë–æ—Ç (aiogram)**  
```bash
cd bot
pip install -r requirements.txt
python bot.py
```

---

## üåê **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**  

```mermaid
flowchart TB
  A[Telegram Mini App] -->|WebSocket| B[Backend]
  B -->|Matchmaking| C[(Redis)]
  B -->|Data| D[(PostgreSQL)]
  C -->|Game Session| B
  B -->|Updates| A
  E[Telegram Bot] --> B
```

---

## üìÑ **–õ–∏—Ü–µ–Ω–∑–∏—è**  
**MIT License** ‚Äî —Å–≤–æ–±–æ–¥–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –∞–≤—Ç–æ—Ä—Å—Ç–≤–∞.  

--- 

## ü§ù **–ö–∞–∫ –ø–æ–º–æ—á—å –ø—Ä–æ–µ–∫—Ç—É?**  
1. **–§–æ—Ä–∫–Ω–∏—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π**  
2. –°–æ–∑–¥–∞–π—Ç–µ –≤–µ—Ç–∫—É: `git checkout -b feature/your-feature`  
3. –ó–∞–ø—É—à–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è: `git push origin feature/your-feature`  
4. –û—Ç–∫—Ä–æ–π—Ç–µ **Pull Request**  

---

## üì¨ **–ö–æ–Ω—Ç–∞–∫—Ç—ã**  
- **–ê–≤—Ç–æ—Ä—ã**: –ò–≤–∞–Ω –ñ—É—Ç—è–µ–≤, –õ–æ–º–æ–≤—Å–∫–æ–π –ê—Ä—Ç—ë–º
- **Telegram**: @RodionCodeForge 
- **–ü–æ—á—Ç–∞**: ivan.zhutyaev@mail.ru

--- 

‚ú® **–£–¥–∞—á–Ω–æ–π –∏–≥—Ä—ã!** ‚ú®  

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ (MVP)
- –ú–Ω–æ–≥–æ–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∞—è –∏–≥—Ä–∞ —á–µ—Ä–µ–∑ WebSocket
- –ú–∞—Ç—á–º–µ–π–∫–∏–Ω–≥, –±–∞–Ω–∫, —Å—Ç–∞–≤–∫–∏, –ø–∞—Å, –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ–±–µ–¥–∏—Ç–µ–ª—è
- –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (React + Zustand)
- –ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è –≤–µ—Ä—Å—Ç–∫–∞, –±–∞–∑–æ–≤—ã–µ –∞–Ω–∏–º–∞—Ü–∏–∏
- –õ–µ–≥–∫–æ —Ä–∞—Å—à–∏—Ä—è–µ—Ç—Å—è (–∞–≤–∞—Ç–∞—Ä—ã, –∏—Å—Ç–æ—Ä–∏—è, —Ä–µ–π—Ç–∏–Ω–≥–∏, Telegram-–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –∏ –¥—Ä.)

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
Seka-Card_Game/
‚îú‚îÄ‚îÄ server.py           # FastAPI backend (WebSocket, API)
‚îú‚îÄ‚îÄ db.py, config.py    # –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ PostgreSQL –∏ Redis
‚îú‚îÄ‚îÄ migrations/         # SQL-–º–∏–≥—Ä–∞—Ü–∏–∏ –¥–ª—è –±–∞–∑—ã
‚îú‚îÄ‚îÄ game/               # –õ–æ–≥–∏–∫–∞ –∏–≥—Ä—ã (engine, matchmaking)
‚îú‚îÄ‚îÄ pages/gameplay/     # Frontend (React, –º–∞–∫–µ—Ç—ã, –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã)
‚îÇ   ‚îú‚îÄ‚îÄ components/     # React-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (GameTable, PlayerHand, GameControls)
‚îÇ   ‚îú‚îÄ‚îÄ store/          # Zustand store (gameStore.ts)
‚îÇ   ‚îú‚îÄ‚îÄ types/          # –¢–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö (game.ts)
‚îÇ   ‚îú‚îÄ‚îÄ seka_demo.*     # –î–µ–º–æ-–≤–µ—Ä—Å–∏—è –º–∞–∫–µ—Ç–∞ (HTML/CSS/JS)
‚îÇ   ‚îú‚îÄ‚îÄ index.tsx       # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ React
‚îÇ   ‚îú‚îÄ‚îÄ package.json    # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —Ñ—Ä–æ–Ω—Ç–∞
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îî‚îÄ‚îÄ ...
```

## –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å (–∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞)

### 1. Backend (FastAPI)
- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Python 3.10+
- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
  ```
  pip install -r requirements.txt
  ```
- –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è PostgreSQL –∏ Redis (—Å–º. config.py)
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –≤ –∫–æ–¥–∏—Ä–æ–≤–∫–µ UTF-8
- –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä:
  ```
  python server.py
  ```

### 2. Frontend (React)
- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Node.js (LTS) –∏ npm
- –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –ø–∞–ø–∫—É —Ñ—Ä–æ–Ω—Ç–∞:
  ```
  cd pages/gameplay
  ```
- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
  ```
  npm install --legacy-peer-deps
  ```
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ñ–∞–π–ª `public/index.html` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç (—Å–∫–æ–ø–∏—Ä—É–π—Ç–µ –∏–∑ index.html –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏)
- –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:
  ```
  npm start
  ```
- –û—Ç–∫—Ä–æ–π—Ç–µ [http://localhost:3000](http://localhost:3000)

## –¢–∏–ø–æ–≤—ã–µ –æ—à–∏–±–∫–∏ –∏ –∏—Ö —Ä–µ—à–µ–Ω–∏–µ

- **npm: Could not find a required file. Name: index.html**
  - –°–æ–∑–¥–∞–π—Ç–µ –ø–∞–ø–∫—É `public` –≤ pages/gameplay –∏ –ø–æ–º–µ—Å—Ç–∏—Ç–µ —Ç—É–¥–∞ index.html
- **npm ERESOLVE / peer deps**
  - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `npm install --legacy-peer-deps` –∏–ª–∏ –æ—Ç–∫–∞—Ç–∏—Ç–µ typescript –¥–æ 4.x
- **psql –Ω–µ –Ω–∞–π–¥–µ–Ω**
  - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ PostgreSQL –∏ –¥–æ–±–∞–≤—å—Ç–µ psql –≤ PATH
- **Database connection error: 'utf-8' codec can't decode...**
  - –ü–µ—Ä–µ—Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ .env –≤ UTF-8, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–¥–∏—Ä–æ–≤–∫—É –±–∞–∑—ã (–¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å UTF8)

## MVP: —á—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
- –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª –∏–≥—Ä—ã (—Å–æ–∑–¥–∞–Ω–∏–µ, —Å—Ç–∞–≤–∫–∏, –ø–∞—Å, –ø–æ–±–µ–¥–∞)
- –ú–Ω–æ–≥–æ–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π —Ä–µ–∂–∏–º —á–µ—Ä–µ–∑ WebSocket
- –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π UI, –∞–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å, –±–∞–∑–æ–≤—ã–µ –∞–Ω–∏–º–∞—Ü–∏–∏
- –õ–µ–≥–∫–æ —Ä–∞—Å—à–∏—Ä—è–µ—Ç—Å—è –¥–ª—è production

## –î–µ–º–æ –∏ –º–∞–∫–µ—Ç—ã
- –î–ª—è –±—ã—Å—Ç—Ä–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ UI –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `pages/gameplay/seka_demo.html` (–æ—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ)
- –î–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –≤ React –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏–∑ `components/` –∏ –ª–æ–≥–∏–∫—É –∏–∑ `store/gameStore.ts`

## Roadmap (—á—Ç–æ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å)
- –£–ª—É—á—à–µ–Ω–Ω—ã–µ –∞–Ω–∏–º–∞—Ü–∏–∏ (—Ä–∞–∑–¥–∞—á–∞, —Å—Ç–∞–≤–∫–∏, –ø–æ–±–µ–¥–∞)
- –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è (Telegram, email)
- –ò—Å—Ç–æ—Ä–∏—è –∏–≥—Ä, —Ä–µ–π—Ç–∏–Ω–≥–∏, –∞–≤–∞—Ç–∞—Ä—ã
- –ó–∞—â–∏—Ç–∞ –æ—Ç —á–∏—Ç–µ—Ä—Å—Ç–≤–∞, –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ, –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
- Production-—Å–±–æ—Ä–∫–∞ (Docker, CI/CD)

**–í–æ–ø—Ä–æ—Å—ã, –±–∞–≥–∏, –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è ‚Äî –ø–∏—à–∏—Ç–µ –≤ Issues –∏–ª–∏ –Ω–∞–ø—Ä—è–º—É—é —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫—É!**
